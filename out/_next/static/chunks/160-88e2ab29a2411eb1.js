"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[160],{5701:function(e,r,t){t.d(r,{Z:function(){return z}});var s=t(7437),a=t(2265),n=t(102),i=t(1396),o=t.n(i),l=t(5119),c=t(9865),d=t(6637),u=t(8203),f=t(868),m=t(9409),x=t(8004),h=t(3344),p=t(1250),g=t(5883),b=t(2549),v=t(7158),j=t(9311),y=t(3023),N=t(6694);let w=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)(N.fC,{ref:r,className:(0,j.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...a})});w.displayName=N.fC.displayName;let k=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)(N.Ee,{ref:r,className:(0,j.cn)("aspect-square h-full w-full",t),...a})});k.displayName=N.Ee.displayName;let C=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)(N.NY,{ref:r,className:(0,j.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...a})});C.displayName=N.NY.displayName;var S=t(9155),I=t(4033);let Z=[{icon:l.Z,label:"Tableau de bord",href:"/dashboard"},{icon:c.Z,label:"Cours",href:"/dashboard/courses"},{icon:d.Z,label:"Notes",href:"/dashboard/grades"},{icon:u.Z,label:"Emploi du temps",href:"/dashboard/schedule"},{icon:f.Z,label:"Biblioth\xe8que",href:"/dashboard/library"},{divider:!0},{icon:m.Z,label:"Param\xe8tres",href:"/dashboard/settings"}];function z(e){let{children:r}=e,[t,i]=(0,a.useState)(!1),l=(0,I.usePathname)();return(0,s.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,s.jsxs)("header",{className:"glass border-b border-white/20 py-2 px-4 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)(y.z,{variant:"ghost",size:"icon",onClick:()=>i(!t),className:"md:hidden",children:(0,s.jsx)(x.Z,{className:"h-5 w-5"})}),(0,s.jsxs)(o(),{href:"/",className:"flex items-center space-x-2",children:[(0,s.jsx)(h.Z,{className:"h-6 w-6 text-primary"}),(0,s.jsx)("span",{className:"font-bold text-gradient hidden sm:inline-block",children:"SupIGA"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)(y.z,{variant:"ghost",size:"icon",className:"relative",children:[(0,s.jsx)(p.Z,{className:"h-5 w-5"}),(0,s.jsx)(S.C,{className:"absolute -top-1 -right-1 px-1.5 py-px min-w-4 min-h-4 text-xs flex items-center justify-center",children:"3"})]}),(0,s.jsxs)("div",{className:"hidden sm:flex items-center space-x-3",children:[(0,s.jsxs)(w,{children:[(0,s.jsx)(k,{src:"/Directeur.jpg",alt:"Thomas Dupont"}),(0,s.jsx)(C,{children:"TD"})]}),(0,s.jsxs)("div",{className:"hidden md:block",children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:"Anara Ag "}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"\xc9tudiant • L2 Informatique"})]})]})]})]}),(0,s.jsxs)("div",{className:"flex flex-1",children:[(0,s.jsx)("aside",{className:"hidden md:block w-64 glass border-r border-white/20 p-4",children:(0,s.jsxs)("nav",{className:"space-y-2",children:[Z.map((e,r)=>{if("divider"in e)return(0,s.jsx)("div",{className:"my-4 border-t border-white/10"},r);let{icon:t,label:a,href:n}=e;return(0,s.jsxs)(o(),{href:n,className:(0,j.cn)("flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors",l===n?"bg-primary/10 text-primary":"hover:bg-primary/5 text-foreground/80"),children:[(0,s.jsx)(t,{className:"h-5 w-5"}),(0,s.jsx)("span",{children:a})]},r)}),(0,s.jsxs)(y.z,{variant:"ghost",className:"w-full justify-start text-destructive hover:text-destructive mt-6",children:[(0,s.jsx)(g.Z,{className:"h-5 w-5 mr-3"}),"D\xe9connexion"]})]})}),t&&(0,s.jsx)(n.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"md:hidden fixed inset-0 bg-background/80 backdrop-blur-sm z-50",onClick:()=>i(!1),children:(0,s.jsxs)(n.E.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{ease:"easeOut",duration:.25},className:"fixed top-0 left-0 bottom-0 w-3/4 max-w-xs glass border-r border-white/20 p-4",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(h.Z,{className:"h-6 w-6 text-primary"}),(0,s.jsx)("span",{className:"font-bold text-gradient",children:"SupIGA"})]}),(0,s.jsx)(y.z,{variant:"ghost",size:"icon",onClick:()=>i(!1),children:(0,s.jsx)(b.Z,{className:"h-5 w-5"})})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3 mb-6 p-3 glass-card",children:[(0,s.jsxs)(w,{children:[(0,s.jsx)(k,{src:"/Directeur.jpg",alt:"Thomas Dupont"}),(0,s.jsx)(C,{children:"TD"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:"Anara Ag Moussat"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"\xc9tudiant • L2 Informatique"})]})]}),(0,s.jsxs)("nav",{className:"space-y-2",children:[Z.map((e,r)=>{if("divider"in e)return(0,s.jsx)("div",{className:"my-4 border-t border-white/10"},r);let{icon:t,label:a,href:n}=e;return(0,s.jsxs)(o(),{href:n,className:(0,j.cn)("flex items-center justify-between px-3 py-2 rounded-lg transition-colors",l===n?"bg-primary/10 text-primary":"hover:bg-primary/5 text-foreground/80"),onClick:()=>i(!1),children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(t,{className:"h-5 w-5"}),(0,s.jsx)("span",{children:a})]}),(0,s.jsx)(v.Z,{className:"h-4 w-4"})]},r)}),(0,s.jsxs)(y.z,{variant:"ghost",className:"w-full justify-start text-destructive hover:text-destructive mt-6",children:[(0,s.jsx)(g.Z,{className:"h-5 w-5 mr-3"}),"D\xe9connexion"]})]})]})}),(0,s.jsx)("main",{className:"flex-1 overflow-y-auto",children:r})]})]})}},9155:function(e,r,t){t.d(r,{C:function(){return o}});var s=t(7437);t(2265);var a=t(6061),n=t(9311);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:r,variant:t,children:a,...o}=e;return(0,s.jsx)("div",{className:(0,n.cn)(i({variant:t}),r),...o,children:a})}},3023:function(e,r,t){t.d(r,{z:function(){return c}});var s=t(7437),a=t(2265),n=t(7256),i=t(6061),o=t(9311);let l=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,r)=>{let{className:t,variant:a,size:i,asChild:c=!1,...d}=e,u=c?n.g7:"button";return(0,s.jsx)(u,{className:(0,o.cn)(l({variant:a,size:i,className:t})),ref:r,...d})});c.displayName="Button"},6627:function(e,r,t){t.d(r,{W:function(){return o}});var s=t(7437),a=t(9311),n=t(2265);let i={default:"glass-card p-6",prominent:"glass-card p-6 shadow-xl",subtle:"glass-card p-4 shadow-sm"},o=n.forwardRef((e,r)=>{let{className:t="",variant:n="default",children:o,...l}=e;return(0,s.jsx)("div",{ref:r,className:(0,a.cn)(i[n],t),...l,children:o})});o.displayName="GlassCard"},9727:function(e,r,t){t.d(r,{B3:function(){return f},VA:function(){return n},a$:function(){return c},pH:function(){return d},ts:function(){return u}});let s="supiga_users",a="supiga_session";function n(e){let r=(e||"").toLowerCase();return"admin"===r?"admin":"prof"===r||"professor"===r?"prof":"parent"===r?"parent":"student"}function i(){return"undefined"!=typeof localStorage}function o(){if(!i())return[];try{let e=localStorage.getItem(s);return e?JSON.parse(e):[]}catch(e){return[]}}async function l(e){if(!i()||!(window.crypto&&window.crypto.subtle))return"sha256:".concat(btoa(unescape(encodeURIComponent(e))));let r=new TextEncoder,t=r.encode(e),s=await window.crypto.subtle.digest("SHA-256",t);return"sha256:".concat(function(e){let r=new Uint8Array(e);return Array.from(r).map(e=>e.toString(16).padStart(2,"0")).join("")}(s))}async function c(e){var r;if(!i())return{ok:!1,error:"Client requis"};let t=o(),a=t.some(r=>r.email.toLowerCase()===e.email.toLowerCase());if(a)return{ok:!1,error:"Un utilisateur avec cet email existe d\xe9j\xe0"};let c=crypto.randomUUID?crypto.randomUUID():"".concat(Date.now(),"-").concat(Math.random()),d=n(e.role),u=await l(e.password),f={id:c,email:e.email,passwordHash:u,role:d,firstName:e.firstName,lastName:e.lastName,department:e.department,createdAt:new Date().toISOString()};return r=[...t,f],i()&&localStorage.setItem(s,JSON.stringify(r)),{ok:!0}}async function d(e,r){if(!i())return{ok:!1,error:"Client requis"};let t=o(),s=t.find(r=>r.email.toLowerCase()===e.toLowerCase());if(!s)return{ok:!1,error:"Email ou mot de passe incorrect"};let n=await l(r);return n!==s.passwordHash?{ok:!1,error:"Email ou mot de passe incorrect"}:(!function(e){if(i()){e?localStorage.setItem(a,JSON.stringify(e)):localStorage.removeItem(a);try{window.dispatchEvent(new StorageEvent("storage",{key:a}))}catch(e){}}}({userId:s.id,email:s.email,role:s.role}),{ok:!0,role:s.role})}function u(){let e=function(){if(!i())return null;try{let e=localStorage.getItem(a);return e?JSON.parse(e):null}catch(e){return null}}();if(!e)return null;let r=o(),t=r.find(r=>r.id===e.userId);return t||null}function f(e){switch(e){case"admin":return"/admin";case"prof":return"/prof";case"parent":return"/parent";default:return"/dashboard"}}},9311:function(e,r,t){t.d(r,{cn:function(){return n}});var s=t(7042),a=t(4769);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.m6)((0,s.W)(r))}}}]);